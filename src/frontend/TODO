- codegen visitor pass: straightline code
- codegen visitor pass: control flow, phi-node generation
- support for all IR-supported primitives:
  - valid_if, kill, killyounger
  - ports and chans
  - timing constraints
- proper lexical scope and non-hacky function inlining
- support for aggregates and type lowering pass
- support for "macros" in C++ (as codegen visitor pass hooks)
- transactional state macros
- conditional/blocking port hooks
- support for macros in some other language (Lua? Figure out a way to wrap the
  codegen API and the AST-with-pass-annotations nicely)
